@model TM.RestHour.Models.Crew

@*@{

        Layout = "";
    }*@

@{
    ViewBag.Title = "View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Bootstrap CSS -->
<link rel="stylesheet" href="../css/bootstrap.min.css" />

<!-- style CSS -->
<link rel="stylesheet" href="../css/style.css" />
<link rel="stylesheet" href="../css/colors/default.css" id="colorSkinCSS">

<link href="dist/dual-listbox.css" rel="stylesheet">

<script src="~/Scripts/jquery-3.6.0.min.js"></script>
<script src="~/Scripts/notify.min.js"></script>

<script src="~/Scripts/toastr.min.js"></script>
<link href="~/Content/toastr.min.css" rel="stylesheet" />

<script src="~/Scripts/jquery-ui-1.13.0.min.js"></script>
<link href="~/Content/jquery-ui.css" rel="stylesheet" />

<script src="~/Scripts/Crew.js"></script>

@Html.Hidden("myUrl", @Url.Action("GetCrewByID", "AddCrew"))
@Html.Hidden("addnew", @Url.Action("AddNewCrew", "AddCrew"))
@Html.Hidden("Unitadd", @Url.Action("Add", "AddCrew"))
@Html.Hidden("loaddata", @Url.Action("LoadData", "AddCrew"))
@Html.Hidden("deletedata", @Url.Action("DeleteVessel", "AddCrew"))
@Html.Hidden("GetById", @Url.Action("GetAllCrewByCrewID", "AddCrew"))

@Html.Hidden("UnitaddEdit", @Url.Action("AddEdit", "AddCrew"))


<div>
    <form>
        <div class="form-group">
            <input type="hidden" id="ID" />
            <input type="hidden" id="crewid" />
        </div>
        <div class="card">
            <div class="row">
                <div class="col-sm-12 col-xs-12">
                    <div class="row">
                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for="FirstName">Given Name</label>
                                <input type="text" class="form-control" id="FirstName" placeholder="Given Name" />
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for=" MiddleName">Middle Name</label>
                                <input type="text" class="form-control" id="MiddleName" placeholder="Middle Name" />
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for="LastName">Family Name</label>
                                <input type="text" class="form-control" id="LastName" placeholder="Family Name" />
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for="Gender">Gender</label>
                                @*<input type="text" class="form-control" id="Gender" placeholder="Gender" />*@
                                <select id="Gender" style="width:100%;" class="form-control">
                                    <option value="">Select</option>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for="Rank">Rank</label>
                                @Html.DropDownListFor(model => model.RankID, (IEnumerable<SelectListItem>)ViewBag.Ranks, "Select", new { @class = "form-control" })

                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for="Nationality">Nationality</label>
                                @*<input type="text" class="form-control" id="Nationality" placeholder="Nationality" />*@
                                @Html.DropDownListFor(model => model.CountryID, (IEnumerable<SelectListItem>)ViewBag.CountryMaster, "Select", new { @class = "form-control" })
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for="DOB">Date Of Birth</label>
                                <input type="text" class="form-control" id="DOB" placeholder="Date Of Birth" />
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <label for="POB">Place Of Birth</label>
                                <input type="text" class="form-control" id="POB" placeholder="Place Of Birth" />
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-12">
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-sm-12 col-xs-12">
                                        <label for="Service Term">Service Term</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6 col-xs-6">
                                        <input type="text" class="form-control valid" id="CreatedOn" placeholder="From" />
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <input onclick="myFunction()" type="text" class="form-control valid1" id="LatestUpdate" placeholder="To" />
                                    </div>
                                </div>


                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="row">

                <div class="col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label for="Department">Department</label>
                        @*@Html.ListBoxFor(model => model.DepartmentMasterID, (IEnumerable<SelectListItem>)ViewBag.Departments, new { @class = "listbox", @multiple = "multiple", @id = "ddlAdmCru" })*@
                        @Html.DropDownListFor(model => model.DepartmentMasterID, (IEnumerable<SelectListItem>)ViewBag.Departments, "Select", new { @class = "form-control" })
                    </div>
                </div>

                <div class="col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label for="POB">Issuing State Of Identity Document</label>
                        <input type="text" class="form-control" id="IssuingStateOfIdentityDocument" placeholder="Issuing State Of Identity Document" />
                    </div>
                </div>

                <div class="col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label for="DOB">Expiry Date Of Identity Document</label>
                        <input type="text" class="form-control" id="ExpiryDateOfIdentityDocument" placeholder="Expiry Date Of Identity Document" />
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-sm-6 col-xs-12">
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-12 col-xs-12">
                                <label for="PassportSeamanPassportBook">Seaman Book / Passport</label>
                            </div>
                            <div class="col-sm-12 col-xs-12 mrBTM-10">
                                <div class="row">
                                    <div class="col-sm-6 col-xs-6">
                                        <input type="radio" name="PassportSeaman" value="1" checked> Seaman Book
                                    </div>
                                    <div class="col-sm-6 col-xs-6">
                                        <input type="radio" name="PassportSeaman" value="0"> Passport
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-xs-12">
                                <input type="text" class="form-control" id="PassportSeamanPassportBook" placeholder="Passport/Seaman/PassportBook" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-xs-12">
                    <div class="form-group">
                        <label for="Comments">Comments</label>
                        <textarea class="form-control" id="Comments" cols="7" rows="2"></textarea>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-7 col-xs-12">
                    <div class="row">
                        <div class="col-sm-4 col-xs-4">
                            <div class="form-group">
                                <input id="Watchkeeper" type="checkbox" />
                                <label for="Watchkeeper" style="padding:0;">Watch Keeper</label>
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-4">
                            <div class="form-group">
                                <input id="OvertimeEnabled" type="checkbox" />
                                <label for="OvertimeEnabled" style="padding:0;">Overtime Enabled</label>
                            </div>
                        </div>

                        <div class="col-sm-4 col-xs-4">
                            <div class="form-group">
                                <input id="AllowPsychologyForms" type="checkbox" />
                                <label for="AllowPsychologyForms" style="padding:0;">Allow Psychology Forms</label>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12 col-xs-12 mrTP-10">
                    <div class="form-group">
                        @using (Html.BeginForm())
                        {
                            @*<input type="submit" class="button1" id="btnClose" onclick="return CloseCrew();" style="width:130px; float: right;" Close />*@
                            <button type="submit" class="btn btn-danger pull-right" id="btnClose" onclick="return CloseCrew();" Close>Clear</button>
                        }
                        <button type="button" class="btn btn-primary pull-right mrRHT-10" id="btnAdd" onclick="return AddCrew();">Add / Update Crew</button>
                        <button type="button" class="btn btn-info pull-right mrRHT-10" id="btnAdd1" onclick="return AddCrewEdit();" style="display:;">More Settings</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>


<script src="dist/dual-listbox.js"></script>

<script src="~/Scripts/jquery.bootstrap-duallistbox.min.js"></script>
<link href="~/Content/bootstrap-duallistbox.css" rel="stylesheet" />


<script>
    function myFunction() {
        alert("Kindly fill up contract date");
    }
</script>


<script type="text/javascript">
    //alert('hi');


    $("#CreatedOn").datepicker({

        changeMonth: true,
        changeYear: true,
        dateFormat: 'd-M-yy',

    });


    $("#ExpiryDateOfIdentityDocument").datepicker({

        changeMonth: true,
        changeYear: true,
        dateFormat: 'd-M-yy',

    });


    $("#LatestUpdate").datepicker({

        changeMonth: true,
        changeYear: true,
        dateFormat: 'd-M-yy',

    });



    $("#DOB").datepicker({

        //minDate: 1,
        maxDate: '0',

        changeMonth: true,
        changeYear: true,
        dateFormat: 'd-M-yy',
        //yearRange: "-100:+0",
        yearRange: '1943:2002',

    });

    function GetParameterValues(param) {
        var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for (var i = 0; i < url.length; i++) {
            var urlparam = url[i].split('=');
            if (urlparam[0] == param) {
                return urlparam[1];
            }
        }
    }

    $(document).ready(function () {
        var id = GetParameterValues('crew');
        //  $('#crewid').val(cid);

        if (id > 0) {
            LoadDataById(id);

        }

        var pageMode = GetParameterValues("mode");
        //alert(pageMode);
        if (pageMode == "update") {
            // $('#btnAdd1').show();
        }
        else {
            // $('#btnAdd1').hide();
        }












        var orderCount = 0;
        $('.listbox').multiselect({
            onChange: function (option, checked) {
                if (checked) {
                    orderCount++;
                    $(option).data('order', orderCount);
                }
                else {
                    $(option).data('order', '');
                }
            },
            buttonText: function (options) {
                if (options.length === 0) {
                    return 'None selected';
                }
                else {
                    var selected = [];
                    options.each(function () {
                        selected.push([$(this).text(), $(this).data('order')]);
                    });

                    selected.sort(function (a, b) {
                        return a[1] - b[1];
                    });

                    var text = '';
                    for (var i = 0; i < selected.length; i++) {
                        text += selected[i][0] + ', ';
                    }

                    return text.substr(0, text.length - 2);
                }
            }
        });






    });

</script>