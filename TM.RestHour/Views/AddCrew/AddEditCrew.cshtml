@model TM.RestHour.Models.Crew

@{

    Layout = "";
}

<link href="dist/dual-listbox.css" rel="stylesheet">


<script src="~/Scripts/notify.min.js"></script>

<script src="~/Scripts/toastr.min.js"></script>
<link href="~/Content/toastr.min.css" rel="stylesheet" />

@Html.Hidden("myUrl", @Url.Action("GetCrewByID", "AddCrew"))
@Html.Hidden("addnew", @Url.Action("AddNewCrew", "AddCrew"))
@Html.Hidden("Unitadd", @Url.Action("Add", "AddCrew"))
@Html.Hidden("loaddata", @Url.Action("LoadData", "AddCrew"))
@Html.Hidden("deletedata", @Url.Action("DeleteVessel", "AddCrew"))
@Html.Hidden("GetById", @Url.Action("GetAllCrewByCrewID", "AddCrew"))

@Html.Hidden("UnitaddEdit", @Url.Action("AddEdit", "AddCrew"))


<div>
    <form>
        <div class="form-group">
            <input type="hidden" id="ID" />
            <input type="hidden" id="crewid" />
        </div>

        <div class="col-sm-4">
            <div class="card">

                @*<div class="form-group">
                    <label for="Name">Name</label>
                    <input type="text" class="form-control" id="Name" placeholder="Name" />
                </div>*@
                <div class="form-group">
                    <label for="FirstName">Given Name</label>
                    <input type="text" class="form-control" id="FirstName" placeholder="Given Name" />
                </div>
                <div class="form-group">
                    <label for=" MiddleName">Middle Name</label>
                    <input type="text" class="form-control" id="MiddleName" placeholder="Middle Name" />
                </div>
                <div class="form-group">
                    <label for="LastName">Family Name</label>
                    <input type="text" class="form-control" id="LastName" placeholder="Family Name" />
                </div>
                <div class="form-group">
                    <label for="Gender">Gender</label>
                    @*<input type="text" class="form-control" id="Gender" placeholder="Gender" />*@
                    <select id="Gender" style="width:100%;" class="form-control">
                        <option value="">Select</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="Rank">Rank</label>
                    @Html.DropDownListFor(model => model.RankID, (IEnumerable<SelectListItem>)ViewBag.Ranks, "Select", new { @class = "form-control" })

                </div>

            </div>
        </div>

        <div class="col-sm-4">
            <div class="card">
                <div class="form-horizontal">
                </div>
                <div class="form-group">
                    <label for="Nationality">Nationality</label>
                    @*<input type="text" class="form-control" id="Nationality" placeholder="Nationality" />*@
                    @Html.DropDownListFor(model => model.CountryID, (IEnumerable<SelectListItem>)ViewBag.CountryMaster, "Select", new { @class = "form-control" })
                </div>
                <div class="form-group">
                    <label for="DOB">Date Of Birth</label>
                    <input type="text" class="form-control" id="DOB" placeholder="Date Of Birth" />
                </div>
                <div class="form-group">
                    <label for="POB">Place Of Birth</label>
                    <input type="text" class="form-control" id="POB" placeholder="Place Of Birth" />
                </div>
                @*<div class="form-group">
                    <label for="CrewIdentity">Identity</label>
                    <input type="text" class="form-control" id="CrewIdentity" placeholder="Crew Identity" />
                </div>*@
                <div class="form-group">
                    <label for="PassportSeamanPassportBook">Seaman Book / Passport</label>
                    <div>

                        <input type="radio" name="PassportSeaman" value="1" checked>Seaman Book<br />
                        <input type="radio" name="PassportSeaman" value="0">Passport <br>
                    </div><br />
                    <input type="text" class="form-control" id="PassportSeamanPassportBook" placeholder="Passport/Seaman/PassportBook" />
                </div>






                <br />
                <br />
                @*<div class="form-group">
                    <label for="PayrollNo">Payroll No</label>
                    <input type="text" class="form-control" id="PayNum" placeholder="PayrollNo" />
                </div>*@
            </div>
        </div>

        <div class="col-sm-4">
            <div class="card">


                @*<div class="form-group">
                    <label for="EmployeeNumber">Employee Number</label>
                    <input type="text" class="form-control" id="EmployeeNumber" placeholder="EmployeeNumber" />
                </div>*@
                <div class="form-group">
                    <label for="Department">Department</label>
                    @*@Html.ListBoxFor(model => model.DepartmentMasterID, (IEnumerable<SelectListItem>)ViewBag.Departments, new { @class = "listbox", @multiple = "multiple", @id = "ddlAdmCru" })*@
                    @Html.DropDownListFor(model => model.DepartmentMasterID, (IEnumerable<SelectListItem>)ViewBag.Departments, "Select", new { @class = "form-control" })

                </div>

                <div class="form-group" style="margin-bottom: 18px;">
                    <label for="Service Term">Service Term</label><br />
                    <input type="text" class="form-control valid" id="CreatedOn" placeholder="From" style="width: 45%; float: left;" />
                    <input type="text" class="form-control valid1" id="LatestUpdate" placeholder="To" style="width: 45%; float:right;" />
                </div>
                <br />
                <div class="form-group">
                    <label for="Comments">Comments</label>
                    <textarea class="form-control" id="Comments" cols="7" rows="2"></textarea>
                </div>
                <div class="row">
                    <div class="col-md-12" style="padding-right:0;">
                        <div class="form-group" style="margin-bottom:2px;">
                            <label for="Watchkeeper" style="padding:0;">Watch Keeper</label>
                            <input id="Watchkeeper" type="checkbox" @*class="form-control"*@ />
                        </div>
                    </div>
                    <div class="col-md-12" style="padding-left:14px;">
                        <div class="form-group">
                            <label for="OvertimeEnabled" style="padding:0;">Overtime Enabled</label>
                            <input id="OvertimeEnabled" type="checkbox" />

                        </div>
                    </div>
                </div>

                @*<div class="form-group" style="margin-bottom: 18px;">
                    <button type="button" class="button1" id="btnAdd" onclick="return AddCrew();" style="width:130px; float: left;">Add / Update Crew</button>
                    <button type="button" class="button1" id="btnAdd1" onclick="return AddCrewEdit();" style="display:none; width:120px; float: right;">More Settings</button>
                    @using (Html.BeginForm())
                    {
                        <input type="submit" class="button1" id="btnClose" onclick="return CloseCrew();" style="width:130px; float: left;" Close />
                    }
                </div>*@


            </div>
        </div>





        <div class="col-sm-2">
            <div class="form-group" style="margin-bottom: 18px;">
                <button type="button" class="button1" id="btnAdd" onclick="return AddCrew();" style="width:130px; float: right;">Add / Update Crew</button>
            </div>
            <div>&nbsp;</div>
        </div>

        <div class="col-sm-2">
            <div class="form-group" style="margin-bottom: 18px;">
                @using (Html.BeginForm())
                {
                    @*<input type="submit" class="button1" id="btnClose" onclick="return CloseCrew();" style="width:130px; float: right;" Close />*@
                    <button type="submit" class="button1" id="btnClose" onclick="return CloseCrew();" style="width: 120px; float: right;" Close>Clear</button>
                }
            </div>
            <div>&nbsp;</div>
        </div>

        <div class="col-sm-2">
            <div class="form-group" style="margin-bottom: 18px;">
                <button type="button" class="button1" id="btnAdd1" onclick="return AddCrewEdit();" style="display:none; width:120px; float: right;">More Settings</button>
            </div>
            <div>&nbsp;</div>
        </div>







    </form>
</div>


<script src="dist/dual-listbox.js"></script>

<script src="~/Scripts/jquery.bootstrap-duallistbox.min.js"></script>
<link href="~/Content/bootstrap-duallistbox.css" rel="stylesheet" />



<script type="text/javascript">
    //alert('hi');


    $("#CreatedOn").datepicker({

        changeMonth: true,
        changeYear: true,
        dateFormat: 'd-M-yy',

    });




    $("#LatestUpdate").datepicker({

        changeMonth: true,
        changeYear: true,
        dateFormat: 'd-M-yy',

    });



    $("#DOB").datepicker({

        //minDate: 1,
        maxDate: '0',

        changeMonth: true,
        changeYear: true,
        dateFormat: 'd-M-yy',
        //yearRange: "-100:+0",
        yearRange: '1943:2002',

    }); //Koushik: Added year range

    //});

    function GetParameterValues(param) {
        var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for (var i = 0; i < url.length; i++) {
            var urlparam = url[i].split('=');
            if (urlparam[0] == param) {
                return urlparam[1];
            }
        }
    }

    $(document).ready(function () {
        var id = GetParameterValues('crew');
        //  $('#crewid').val(cid);

        if (id > 0) {
            LoadDataById(id);

        }

        var pageMode = GetParameterValues("mode");
        //alert(pageMode);
        if (pageMode == "update") {
           // $('#btnAdd1').show();
        }
        else {
           // $('#btnAdd1').hide();
        }












        var orderCount = 0;
        $('.listbox').multiselect({
            onChange: function (option, checked) {
                if (checked) {
                    orderCount++;
                    $(option).data('order', orderCount);
                }
                else {
                    $(option).data('order', '');
                }
            },
            buttonText: function (options) {
                if (options.length === 0) {
                    return 'None selected';
                }
                else {
                    var selected = [];
                    options.each(function () {
                        selected.push([$(this).text(), $(this).data('order')]);
                    });

                    selected.sort(function (a, b) {
                        return a[1] - b[1];
                    });

                    var text = '';
                    for (var i = 0; i < selected.length; i++) {
                        text += selected[i][0] + ', ';
                    }

                    return text.substr(0, text.length - 2);
                }
            }
        });






    });

</script>