@model TM.RestHour.Models.CrewTimesheetViewModel
@{
    ViewBag.Title = "PatientDetails";
}

<script src="~/Scripts/CIRM.js"></script>

<link href="~/Content/DataTables/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="~/Content/DataTables/css/select.dataTables.min.css" rel="stylesheet" />
<link href="~/Content/DataTables/css/rowReorder.dataTables.min.css" rel="stylesheet" />
<link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />

<link href="dist/dual-listbox.css" rel="stylesheet">

<body style="background-image: url(../background/Doctors.jpg);
    background-size: cover;">

    @*@Html.Hidden("saveCIRM", @Url.Action("SaveCIRM", "CrewHealth"))*@

    <div class="row">
        <div class="col-md-2">
            <h3 style=" color:#000;">CIRM - Patient Details</h3>
        </div>

        <div class="col-md-10 bacmt">


            <div class="clearfix"></div>

            <div class="row" style="border: 1px solid #eee; padding: 10px;">


                <div class="col-md-3">
                    <img src="~/background/HumanBody.jpg" style="width: 100%; float: right;" />
                    @*<a href="@Url.Action("HumanBody", "CrewHealth")" class="button1">Go to the Image</a>*@
                    <button type="button" class="button1" style="float: right; right: 25px;" data-toggle="modal" data-target="#myModal" onclick="openBody();">Go to the Image</button><br /><br />
                </div>

                <div class="col-md-3">
                    @*<div class="form-group">
                      <label for="Name Of Vessel">Name Of Vessel</label>
                      <div class="form-control">
                      @System.Web.HttpContext.Current.Session["ShipName"].ToString()
                      </div>
                </div>*@
                    <div class="form-group">
                        <label for="Crew">Crew</label>
                        @Html.HiddenFor(model => model.Crew.ID, new { id = "hdnCrewId", value = Model.Crew.ID })
                        @Html.DropDownListFor(model => model.ID, (IEnumerable<SelectListItem>)ViewBag.Crew, "Select", new { @class = "form-control", @id = "ddlCrew" })
                    </div>
                    <div class="form-group">
                        <label for="Nationality">Nationality</label>
                        @Html.DropDownListFor(model => model.CountryID, (IEnumerable<SelectListItem>)ViewBag.CountryMaster, "Select", new { @class = "form-control" })
                    </div>
                    <div class="form-group">
                        <label for="Addiction">Addiction</label>
                        <select name="Addiction" class="form-control" id="Addiction">
                            <option value="">Select</option>
                            <option value="Smoking">Smoking</option>
                            <option value="Drinking">Drinking</option>
                            <option value="Tobacco">Tobacco</option>
                            <option value="Others">Others</option>
                        </select>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-group">
                        <label for="Rank">Rank</label>
                        <input type="text" class="form-control" id="Rank" placeholder="Rank " />
                    </div>
                    <div class="form-group">
                        <label for="Ethinicity">Ethinicity</label>
                        <input type="text" class="form-control" id="Ethinicity" placeholder="Ethinicity " />
                    </div>
                    <div class="form-group">
                        <label for="Frequency">Frequency</label>
                        <input type="text" class="form-control" id="Frequency" placeholder="Frequency " />
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-group">
                        <label for="Sex ">Sex </label>
                        <select name="Sex" class="form-control" id="Sex">
                            <option value="M">M</option>
                            <option value="F">F</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for=" Age">Age </label>
                        <input type="text" class="form-control" id="Age" placeholder="Age " />
                    </div>
                    <div class="form-group">
                        <label for=" JoiningDate">Joining Date </label>
                        <input type="text" class="form-control" id="JoiningDate" placeholder="JoiningDate " />
                    </div>
                </div>

            </div>

            <div class="row" style="border: 1px solid #eee; padding: 10px;">
                <h4>Type of Ailment </h4>
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="Category">Category</label>
                        <input type="text" class="form-control" id="Category" placeholder="Category " />
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <label for="SubCategory">Sub Category</label>
                        <input type="text" class="form-control" id="SubCategory" placeholder="Sub Category " />
                    </div>
                </div>

            </div>

            <div class="row">

                <div class="col-md-6" style="border: 1px solid #eee; padding: 10px;">
                    <h4>Vital statistics</h4>

                    <div class="col-md-6">
                        @*<div class="form-group" style="width: 100%;">
                         <label for="Temperature">Temperature</label>
                     </div>
                    <div class="form-group" style="width: 100%;">
                         <div class="col-md-6" id="sideform">
                             <input type="text" style="width: 150%;" class="form-control" id="Temperature" placeholder="Temperature" />
                         </div>
                         <div class="col-md-5" id="sideform">
                             <select name="Addiction" style="width: 100%;" class="form-control" id="Addiction">
                                 <option value="C">°C</option>
                                 <option value="F">°F</option>
                             </select>
                         </div>
                     </div>*@
                        <div class="form-group" style="width: 100%;">
                            <label for="Pulse">Pulse (Beats/Minute)</label>
                            <input type="text" class="form-control" id="Pulse" placeholder="Pulse (bpm)" />
                        </div>
                        <div class="form-group" style="width: 100%;">
                            <label for="OxygenSaturation">Oxygen Saturation/SpO2</label>
                            <input type="text" class="form-control" id="OxygenSaturation" placeholder="Oxygen Saturation/SpO2" />
                        </div>
                        <div class="form-group" style="width: 100%;">
                            &nbsp; &nbsp; &nbsp;
                        </div>
                        <div style="border: 1px solid #eee; padding: 10px;">
                            <h4>Blood Pressure</h4>
                            <div class="form-group" style="width: 100%;">
                                <label for="Systolic">Systolic (mmHg)</label>
                                <input type="text" class="form-control" id="Systolic" placeholder="Systolic (mmHg)" />
                            </div>
                            <div class="form-group" style="width: 100%;">
                                <label for="Diastolic">Diastolic (mmHg)</label>
                                <input type="text" class="form-control" id="Diastolic" placeholder="Diastolic (mmHg)" />
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        @*<div class="form-group" style="width: 100%;">
                        <label for="Mode">Mode</label>
                        <select name="Mode" style="width: 100%;" class="form-control" id="Mode">
                            <option value="">Select</option>
                            <option value="Oral">Oral</option>
                            <option value="Rectum">Rectum</option>
                            <option value="Forehead">Forehead</option>
                            <option value="Armpit">Armpit</option>
                        </select>
                    </div>*@
                        <div class="form-group" style="width: 100%;">
                            <label for="RespiratoryRate">Respiratory Rate</label>
                            <input type="text" class="form-control" id="RespiratoryRate" placeholder="Respiratory Rate" />
                        </div>
                    </div>

                </div>

                <div class="col-md-6" style="border: 1px solid #eee; padding: 10px;">
                    <h4> Medical Condition</h4>
                    <div class="form-group" style="width: 100%;">
                        &nbsp; &nbsp; &nbsp;
                    </div>

                    <h4>Symptomology </h4>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="ObservedDateAndTime">Observed Date And Time</label>
                            <input type="text" class="form-control" id="ObservedDateAndTime" placeholder="ObservedDateAndTime" />
                        </div>
                        <div class="form-group" style="width: 100%;">
                            &nbsp; &nbsp; &nbsp;
                        </div>
                        <div class="form-group">
                            <label for="Vomiting">Vomiting</label>
                            <select name="Vomiting" style="width: 100%;" class="form-control" id="Vomiting">
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                            <input type="text" class="form-control" id="FrequencyOfVomiting" placeholder="Frequency Of Vomiting" />
                        </div>
                        <div class="form-group" style="width: 100%;">
                            &nbsp; &nbsp; &nbsp;
                        </div>
                        <div class="form-group">
                            <label for="Fits">Fits</label>
                            <select name="Fits" style="width: 100%;" class="form-control" id="Fits">
                                <option value="Yes">Yes</option>
                                <option value="No">No</option>
                            </select>
                            <input type="text" class="form-control" id="FrequencyOfFits" placeholder="Frequency Of Fits" />
                        </div>
                        <div class="form-group" style="width: 100%;">
                            &nbsp; &nbsp; &nbsp;
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="Details">Details</label>
                            <textarea type="text" class="form-control valid" id="Details" placeholder="Details" style="width: 95% !important;"></textarea>
                        </div>
                        <div class="form-group" style="width: 100%;">
                            &nbsp; &nbsp; &nbsp;
                        </div>
                        <div class="form-group">
                            <label for="MedicinesAdministered">Medicines Administered</label>
                            <textarea type="text" class="form-control valid" id="MedicinesAdministered" placeholder="Medicines Administered" style="width: 95% !important;"></textarea>
                        </div>
                        <div class="form-group" style="width: 100%;">
                            &nbsp; &nbsp; &nbsp;
                        </div>
                        <div class="form-group">
                            <label for="AnyOtherRelevantInformation">Any Other Relevant Information</label>
                            <textarea type="text" class="form-control valid" id="AnyOtherRelevantInformation" placeholder="Any Other Relevant Information" style="width: 95% !important;"></textarea>
                        </div>
                    </div>


                </div>

            </div>

            <div class="row" style="border: 1px solid #eee; padding: 10px;">
                <h4>In Case of Accident occured</h4>
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="WhereAndHowAccidentOccured ">Where And How Accident Occured</label>
                        <textarea type="text" class="form-control valid" id="WhereAndHowAccidentOccured" placeholder="Where And How Accident Occured" style="width: 95% !important;"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="SeverityOfPain">Severity Of Pain</label>
                        <div style="border: 1px solid #eee; padding: 10px;">
                            <label class="radio-inline">
                                <input type="radio" name="SeverityOfPain" checked>No Hurt
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="SeverityOfPain">Hurt Little Bit
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="SeverityOfPain">Hurts Little More
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="SeverityOfPain">Hurts Even More
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="SeverityOfPain">Hurts Whole Lot
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="SeverityOfPain">Hurts Woest
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="checkbox" name="uploaddoc" id="JoiningMedical" value="1"> Joining Medical
                        <button type="button" onclick="location.href='@Url.Action("UploadJoiningMedical", "CrewHealth")';return false;">Upload </button>
                        </br>
                        <input type="checkbox" name="uploaddoc" id="MedicineAvailableOnBoard" value="1"> Medicine Available On Board
                        <button type="button" onclick="location.href='@Url.Action("MedicineAvailableOnBoard", "CrewHealth")';return false;">Upload </button>
                        </br>
                        <input type="checkbox" name="uploaddoc" id="MedicalEquipmentOnBoard" value="1">  Medical Equipment On Board
                        <button type="button" onclick="location.href='@Url.Action("MedicalEquipmentOnBoard", "CrewHealth")';return false;">Upload </button>
                        </br>
                        <input type="checkbox" name="uploaddoc" id="MedicalHistoryUpload" value="1"> Medical History Upload
                        <button type="button" onclick="location.href='@Url.Action("MedicalHistoryUpload", "CrewHealth")';return false;">Upload </button>
                        </br>
                        <input type="checkbox" name="uploaddoc" id="WorkAndRestHourLatestRecord" value="1"> Work And Rest Hour Latest Record
                        <button type="button" onclick="location.href='@Url.Action("WorkAndRestHourLatestRecord", "CrewHealth")';return false;">Upload</button>
                        </br>
                        <input type="checkbox" name="uploaddoc" id="PreExistingMedicationPrescription" value="1">  Pre Existing Medication Prescription
                        <button type="button" onclick="location.href='@Url.Action("PreExistingMedicationPrescription", "CrewHealth")';return false;">Upload </button>
                        </br>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <label for="LocationAndTypeOfInjuryBurn ">Location And Type Of Injury/Burn</label>
                        <textarea type="text" class="form-control valid" id="LocationAndTypeOfInjuryBurn" placeholder="Location And Type Of Injury/Burn" style="width: 95% !important;"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="FrequencyOfPain">Frequency Of Pain</label>
                        <input type="text" class="form-control" id="FrequencyOfPain" placeholder="Frequency Of Pain" />
                    </div>
                    <div class="form-group">
                        <span style="font-size:20px;">Upload Pistures:</span>
                        <br />
                        <input type="file" name="postedFile" accept="application/pdf,image/gif, image/jpeg" />
                        <br />
                        <input type="submit" value="Upload" class="btn btn-warning" />
                        <br /><br />
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <label for="FirstAidGiven ">First Aid Given</label>
                        <textarea type="text" class="form-control valid" id="FirstAidGiven" placeholder="First Aid Given" style="width: 95% !important;"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="PercentageOfBurn">Percentage Of Burn</label>
                        <input type="text" class="form-control" id="PercentageOfBurn" placeholder="Percentage Of Burn" />
                    </div>
                    <div class="form-group">
                        &nbsp; &nbsp; &nbsp;
                    </div>
                    <div class="form-group">
                        &nbsp; &nbsp; &nbsp;
                    </div>
                    <div class="form-group">
                        &nbsp; &nbsp; &nbsp;
                    </div>
                    <div class="form-group">
                        &nbsp; &nbsp; &nbsp;
                    </div>
                    <div class="form-group">
                        <button type="button" class="button1" id="btnAdd" onclick="return SavePatientDetails();">Add</button>
                    </div>
                </div>






                @*<div class="col-md-3" style="padding: 10px; margin-top:68px;">
                <button type="button" class="button1" id="btnAdd" onclick="return SaveCIRM();">Add</button>
            </div>*@
            </div>



            @*<script>
        function openBody() {
            window.open("@Url.Action("TestBody", "CrewHealth")");
        }
        </script>*@

            <script>
            function openBody() {
                window.open("@Url.Action("TestBody", "CrewHealth")");
            }
            </script>


            <div class="row" style="border: 1px solid #eee; padding: 10px;">
                <div class="col-md-12">

                    @*<h2>   MEDICAL ADVICE</h2>*@

                    <p style="line-height:28px;">
                        The medical assistance of the International Radio Medical Centre (C.I.R.M.) is guarantee by doctors in continuous service on call (H. 24). The controls of ships in navigation with sick or injured person on board can contact the C.I.R.M. through the following ways:

                        <br />

                        Phone &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>[+39 ] - 06.59290263<br /></strong>


                        E-mail &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong> telesoccorso@cirm.it</strong>

                        <br />

                        <strong> Requests must carry the initials MEDRAD or DH-DOCTOR.</strong><br />

                        Note: For reference please visit <a href="http://www.cirm.it/sito_eng/telesoccorso.htm" style="color:blue !important;">www.cirm.it/sito_eng/telesoccorso.htm</a>


                        @*<strong> It should be noted that the medical service of the C.I.R.M. is completely free of charge.</strong><br />






                      Always consult promptly CIRM, as well as in cases of injury or pathological egregious, even for all those symptoms that apparently insignificant, may evolve into pathological complexes. Operating room
                      <br />
                    <strong>  INFORMATION TO BE PROVIDED BY A REQUEST FOR MEDICAL ASSISTANCE ADDRESSED TO C.I.R.M.
                     </strong>
                        <br />
                      Name of vessel and radio call sign. <br />
                      Location of ship, port of departure and destination, estimated time of arrival, route and speed. <br />
                      Patient's age, nationality, qualification. <br />
                      Respiratory rate, pulse, temperature and if possible blood pressure. <br />
                      Symptomatology, location and type of pain, as well as all relevant information relating to the disease. <br />
                      In case of injury, in addition to the symptoms, you should indicate where and how the accident. <br />
                      Medical history of the patient. <br />
                      Medicines available on board. <br />
                      Medicine products already administered. <br />*@

                    </p>
                </div>

            </div>


            @* /////////////////////////////////////////////////  Popup  ///////////////////////////////////////////////////////////////////*@
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog" style="width:890px;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title" id="myModalLabel">Photo Upload</h4>
                        </div>

                        <div class="modal-dialog" id="dvuserdetailsn" style="width: 802px;">
                            <fieldset class="for-panel">
                                <legend>Upload</legend>
                                <div class="row">

                                    <div class="col-sm-3" style="width: 63%;">
                                        <div class="form-horizontal">
                                            <label class="col-xs-5 control-label">Photo:</label>
                                            @*<div>
                                            @using (Html.BeginForm("MedicalTreatment", "CrewHealth", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                            {
                                                <span>Select File:</span>
                                                <input type="file" name="postedFile" />
                                                <hr />
                                                <input type="submit" value="Upload" />
                                                <br />
                                                <span style="color:green">@ViewBag.Message</span>
                                            }
                                        </div>*@
                                        </div>
                                    </div>

                                    @*////////////////////////////////Dheeman da///////////////////////////////////////////////////////*@
                                    <input id="upload" name="upload" type="file" />
                                    <button type="button" class="buttonpop" onclick="  uploadFile($('#upload'));" style="width:86px;">Upload</button>


                                    <div class="col-sm-3" style="width: 63%;"></div>
                                    <div class="col-sm-3" style="width: 63%;"></div>
                                    <div class="col-sm-3" style="width: 63%;"></div>
                                    <div class="col-sm-3" style="width: 63%;"></div>

                                    <div class="form-group">
                                        <input type="hidden" id="PhotoUploadID" class="form-control" />
                                    </div>

                                </div>
                            </fieldset>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="buttonpop" id="btnAdd" onclick="return Add();" style="width:86px;">Add</button>
                            @*<button type="button" class="buttonpop" id="btnUpdate" style="display:none; width:86px;" onclick="Add();">Update</button>*@
                            <button type="button" class="btn btn-default" data-dismiss="modal" style="width:86px;">Close</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>


@section Scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jqueryui")
    @Styles.Render("~/Content/themes/base/css")

    <script src="~/Scripts/DataTables/dataTables.select.min.js"></script>
    <script src="~/Scripts/DataTables/dataTables.rowReorder.min.js"></script>

    <script src="~/Scripts/toastr.min.js"></script>
    <link href="~/Content/toastr.min.css" rel="stylesheet" />

    <script src="dist/dual-listbox.js"></script>

    <script src="~/Scripts/jquery.typeahead.js"></script>
    <script src="~/Scripts/jquery.bootstrap-duallistbox.min.js"></script>
    <link href="~/Content/bootstrap-duallistbox.css" rel="stylesheet" />
    <script src="~/Scripts/gijgo/combined/gijgo.min.js"></script>





    @*@if (Convert.ToBoolean(Session["Admin"].ToString()) || Convert.ToBoolean(Session["User"].ToString()))
        {*@

    <script type="text/javascript">

        $(document).ready(function () {

            //$('#ddlCrew').on('change', function () {
            //    alert(hello);

            //    var ID = $('#ddlCrew').val();

            //    GetCrewDetailsForHealthByID(ID);

            //});

            //GetCrewDetailsForHealthByID();


            var loggedInUserId = 0;
            loggedInUserId = $('#hdnCrewId').val();

            if (loggedInUserId > 0) { // user level log in

                console.log('Logged In UserId');
                console.log(loggedInUserId);
                $('#ddlCrew').val(loggedInUserId);
                $("#ddlCrew").prop("disabled", true);
                //LoadData();
                //SetCalendarColor();

            }

        });


        function sentEmail() {
            alert("Hello! I am an alert box!");
        }





        function checkCheckBoxes(theForm) {
            if (
                theForm.CHECKBOX_1.checked == false) {
                alert('Medical Advice Send');
                return false;
            } else {
                alert('Medical Advice Send along with joining Medical Report');
                return false;
            }
        }





    </script>
    @*}*@
}


