@*@model TM.RestHour.Models.Consultant*@
@model TM.RestHour.Models.CrewTimesheetViewModel

@{
	ViewBag.Title = "MonthlyMedicalAdvisory";
}

<script src="~/Scripts/Consultant.js"></script>
<script src="~/Scripts/notify.min.js"></script>
<script src="~/Scripts/toastr.min.js"></script>
<link href="~/Content/toastr.min.css" rel="stylesheet" />
<style>
	.form-control {
		display: block;
		width: 100%;
		height: 30px;
		padding: 6px 8px;
		border-radius: 0 !important;
	}

	.bacmma {
		border-radius: 0;
		padding: 2px 20px;
		background: #fff;
		margin: 0 -29px;
		border-radius: 6px;
		box-shadow: 0 5px 15px rgba(0, 0, 0, .5);
		height: 450px;
		overflow-y: scroll;
	}

	input, select, textarea {
		max-width: 341px;
	}
</style>

@Html.Hidden("SaveMedicalAdvisory", @Url.Action("SaveMedicalAdvisory", "Consultant"))


<body style="background-image: url(../background/MedicalAdvisory.jpg);
    background-size: cover;">

	<div class="row">
		<div class="col-md-5">
			<h2 class="ta" style="color:#000;">Monthly Medical Data</h2>
		</div>

		<div class="col-md-7 bacmma">
			<div>
				<form>
					<div class="form-group">
						<input type="hidden" id="DoctorID" />
					</div>
					<div class="row">

						@*<div class="col-md-6">


							<div class="form-group">
								 <label for="DoctorName">Doctor Name</label>
								 <input type="text" class="form-control" id="DoctorName" placeholder="Doctor Name" />
							 </div>
							 <div class="form-group">
								 <label for=" DoctorEmail">Email</label>
								 <input type="email" class="form-control email" id="DoctorEmail" placeholder="Doctor Email" />
							 </div>
							 <div class="form-group">
								 <label for="Speciality">SpecialityID</label>
								 @Html.DropDownListFor(model => model.SpecialityID, (IEnumerable<SelectListItem>)ViewBag.Consultant, "Select", new { @class = "form-control" })
							 </div>
							 <div class="form-group">
								 <label for="Comment">Comment</label>
								 <textarea class="form-control" id="Comment" cols="7" rows="2"></textarea>
							 </div>
										</div>*@



						<div class="col-md-12">
							<div class="row" style="border: 1px solid #eee; padding: 10px; margin: 10px 0;">

								<div class="row">
									<div class="col-md-4" style="margin-top:22px;">
										<div class="form-group">
											<label for="Month">Current Month :</label>
											<span id="Month">August</span>

										</div>

									</div>

									@*<div class="col-md-4">
											<div class="form-group" style="width:100%;">
												<label for="">abcd</label>
												<select style="width:100%; padding:3px;" class="form-control">
													<option>1</option>
													<option>1</option>
													<option>1</option>
													<option>1</option>
												</select>
											</div>
										</div>*@
									<div class="col-md-4">
										@Html.HiddenFor(model => model.Crew.ID, new { id = "hdnCrewId", value = Model.Crew.ID })
										<label for="selectCrew" class="control-label">Select Crew</label><br />
										@Html.DropDownListFor(model => model.Crew.ID, (IEnumerable<SelectListItem>)ViewBag.Crew, "Select", new { @class = "form-control", @id = "ddlCrew" })
										@*<select id="ddlCrew" name="Id" class="form-control"></select>*@
									</div>

									<div class="col-md-4">
										<div class="form-group">
											<label for="PulseRate">Pulse Rate(bpm)</label>
											<input type="number" class="form-control" id="PulseRatebpm" placeholder="Pulse Rate(bpm)" />

										</div>
									</div>



								</div>
								<div class="row">
									<div class="col-md-4">
										<div class="form-group">
											<label for="Weight">Weight(Kg)</label>
											<input type="number" class="form-control" id="Weight" placeholder="Weight" />
										</div>
									</div>

									<div class="col-md-4">
										<div class="form-group">
											<label for="Height ">Height(cm)</label>
											<input type="number" class="form-control" id="Height" placeholder="Height" />
										</div>
									</div>

									<div class="col-md-4">

										<div class="form-group">
											<label for="Age">Age</label>
											<input type="number" class="form-control" id="Age" placeholder="Age" />
										</div>
									</div>


								</div>
								<div class="row">
									<div class="col-md-4">
										<div class="form-group">


												<div class="form-group">
													<button type="button" class="button1" id="btnSubmit" style="margin-top:0px;" onclick="return CalculateBMI();">Calculate BMI</button>
												</div>
							


											<input type="text" class="form-control" id="BMI" placeholder="BMI" disabled />
											@*<div class="form-group"></div>
												<button type="button" class="button1" id="btnCalculateBMI" onclick="return CalculateBMI();">Calculate BMI</button>*@
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group">
											<label for="AnyDietaryRestrictions">Any Dietary Restrictions</label>
											<textarea class="form-control" id="AnyDietaryRestrictions" cols="7" rows="2"></textarea>
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group">
											<label for="MedicalProductsAdministered">Medical Products Administered</label>
											<textarea class="form-control" id="MedicalProductsAdministered" cols="7" rows="2"></textarea>
										</div>
									</div>


								</div>

								<div class="row" id="upload01">
									<div class="col-md-5">
										<div class="">
											<div>
												@using (Html.BeginForm("MonthlyMedicalAdvisory", "Equipments", FormMethod.Post, new { enctype = "multipart/form-data" }))
												{
													<span style="font-size:14px; font-weight:bold;">Upload Existing Prescriptions:</span>
													<br /><br />
													<input type="file" name="postedFile" />
													<br />
													@*<input type="submit" value="Upload Existing Prescriptions" class="button1" style="width:182px;" />*@
													<br />
													<span style="color:green">@ViewBag.Message</span>
												}
											</div>
										</div>
									</div>
								</div>

							</div>
							@*<input name="1" id="1" value="">
								<input name="2" id="2" value="">

								<input name="3" id="3" value="" readonly>*@
							<div class="" style="border: 1px solid #eee;padding: 10px; margin-bottom:15px;">
								<div class="row">
									<div class="col-md-4">
										<div class="form-group">
											<label for="BloodSugerLevel">Blood Sugar Level</label>
											<input type="number" class="form-control" id="BloodSugarLevel" placeholder="BloodSugarLevel" />
											<select id="BloodSugarUnit" style="width:100%;" class="form-control">
												<option value="mg/dL">mg/dL</option>
												<option value="mmol/L">mmol/L</option>
											</select>
											<label>Blood Sugar Test Type</label>
											<select id="BloodSugarTestType" style="width:100%;" class="form-control">
												<option value="1">Oral glucose-tolerance test</option>
												<option value="2">Fasting blood sugar</option>
												<option value="3">Two-hour postprandial test</option>
												<option value="4">Random blood sugar</option>
												<option value="5">Hemoglobin A1C test</option>
											</select>
										</div>
									</div>
									<div class="col-md-4">
										<div class="form-group">
											<label for="BP">BP</label>
											<input type="number" class="form-control" id="Systolic" placeholder="Systolic(mmHg)" /><br />
											<input type="number" class="form-control" id="Diastolic" placeholder="Diastolic(mmHg)" />
										</div>
										<div class="form-group">
											<label for="UrineTest">Urine Test</label>
											<input id="UrineTest" type="checkbox" />
										</div>
									</div>
									<div class="col-md-4" style="margin-top:29px;">

										<div class="form-group">
											<label for="UnannouncedAlcohol ">Unannounced Alcohol</label>
											<input id="UnannouncedAlcohol" type="checkbox" />
										</div>
										<div class="form-group">
											<label for="AnnualD&H">Annual D & H</label>
											<input id="AnnualDH" type="checkbox" />
										</div>
									</div>
								</div>

								@*<div class="form-group">
										<label for="UrineTest">Urine Test</label>
										<input id="UrineTest" type="checkbox" />
									</div>*@

								<div class="row" style="margin-top:10px;" id="upload02">

									<div class="col-md-5">

										<div class="">

											<div>
												@using (Html.BeginForm("MonthlyMedicalAdvisory", "Equipments", FormMethod.Post, new { enctype = "multipart/form-data" }))
												{
													<span style="font-size:15px; font-weight:bold;">Upload Urine Report:</span>
													<br /><br />
													<input type="file" name="postedFile" />
													<br />
													@*<input type="submit" value="Upload" class="button1" />*@
													<br />
													<span style="color:green">@ViewBag.Message</span>
												}
											</div>
										</div>
									</div>
									<div class="col-md-3" style="padding: 10px; margin-top:68px;">
										@*<button type="button" class="button1" id="btnAdd" onclick="return SaveMedicalAdvisory();">Add</button>*@
										<input type="submit" value="Add" class="button1" onclick="return SaveMedicalAdvisory();" />
									</div>
								</div>

							</div>


						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>

@section Scripts
{

	@Scripts.Render("~/bundles/jqueryval")
	@Scripts.Render("~/bundles/jqueryui")
	<script type="text/javascript">

        $(document).ready(function () {
            $("#btnAdd").prop("disabled", true); // deep
            $("#upload01").hide(); // deep
			$("#upload02").hide(); // deep
        });
		//alert('hi');


		var loggedInUserId = $('#hdnCrewId').val();
		
		if (loggedInUserId > 0) { // user level log in

			$('#ddlCrew').val(loggedInUserId);
			$("#ddlCrew").prop("disabled", true);

			//GetCrewDetailsForHealthByID();
		}

		const monthNames = ["January", "February", "March", "April", "May", "June",
			"July", "August", "September", "October", "November", "December"
		];

		var d = new Date();
		//document.getElementById("demo").innerHTML = monthNames[d.getMonth()];

        $('#Month').text(monthNames[d.getMonth()]);





		$("#btnSubmit").click(function () {   //deep
		    //alert("button");
            //CalculateBMI();
            $("#btnAdd").prop("disabled", false); // deep

            $("#upload01").show(); // deep
			$("#upload02").show(); // deep
		});





		function CalculateBMI() {
			var weight = $("#Weight").val();
			var height = $("#Height").val();

			//alert(weight);

			if (weight > 0 && height > 0) {
				var actualht = height / 100;
				actualht = actualht.toFixed(2);
				var finalBmi = (weight / (actualht * actualht));
				finalBmi = finalBmi.toFixed(2);

				$("#BMI").val(finalBmi);
				//	if (finalBmi < 18.5) {
				//		$("#meaning").val("You are underweight.");
				//	}
				//	if (finalBmi > 18.5 && finalBmi < 24.9) {
				//		$("#meaning").val("You are normal.");
				//	}
				//	if (finalBmi > 24.9 && finalBmi < 29.99) {
				//		$("#meaning").val("You are overweight.");
				//	}
				//} else {
				//	$("#meaning").val("You are obese.");
				//}
			}
		}











	</script>
}